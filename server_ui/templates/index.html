{% extends 'server_ui/templates/base.html' %}
{% block title %}{{ settings.SITE_TITLE }}{% endblock %}

{% block header %}
  <h2>{{ settings.SITE_TITLE }}</h2>
{% endblock %}

{% block content %}
  <div class="row" style="margin-top: 20px;">
    <div class="large-5 columns large-centered">
      <a href="/"><img border="0" src="/static/logo.png" /></a>
    </div>
  </div>

  <div class="row" style="margin-top: 20px;">
    <div class="large-9 columns">
      <p>{{settings.WELCOME_MESSAGE|safe}}</p>

      {% if elections|length %}
        <h3>Current Featured Elections</h3>
        <p>
          {% for election in elections %}
            <div class="panel">
              <a href="{% url helios.views.election_shortcut election.short_name %}">{{election.name}}</a> by {{election.admin.display_html_small|safe}}<br />
              {{election.description}}
            </div>

            <br />
          {% endfor %}
        </p>
      {% else %}
        <h4>No featured elections at the moment!</h4>
      {% endif %}
    </div>

    <div class="large-3 columns panel">
      {% if user %}
        {% if create_p %}
          <a class="small button center" href="{% url helios.views.election_new %}">Create Election</a>

          <div class="row">
            <div class="large-12 columns">
              <h5 class="subheader">Administration</h5>
              {% if elections_administered %}
                <ul class="no-bullet">
                  {% for election in elections_administered %}
                    <li> <a href="{% url helios.views.one_election_view election.uuid %}">{{election.name}}</a></li>
                  {% endfor %}
                </ul>
              {% else %}
                <em>None</em>
              {% endif %}
            </div>
          </div>

          <div class="row">
            <div class="large-12 columns">
              <a class="tiny button right" href="{% url helios.views.elections_administered %}">See All</a>
            </div>
          </div>
        {% endif %}

        <div class="row">
          <div class="large-12 columns">
            <h5 class="subheader">Recent Votes</h5>
            {% if elections_voted %}
              <ul class="no-bullet">
                {% for election in elections_voted %}
                  <li><a href="{% url helios.views.one_election_view election.uuid %}">{{election.name}}</a></li>
                {% endfor %}
              </ul>
            {% else %}
              <em>None</em>
            {% endif %}
          </div>
        </div>

        <div class="row">
          <div class="large-12 columns">
            <a class="tiny button right" href="{% url helios.views.elections_voted %}">See All</a>
          </div>
        </div>
      {% else %}
        <h5>Log In to Start Voting</h5>
        {{login_box|safe}}
      {% endif %}
    </div>
  </div>
{% endblock %}